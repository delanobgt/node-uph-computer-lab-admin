<% include ../partials/table-header %>

  <style>
    #circle_user {
      width: 150px;
      height: 150px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 4em;
      margin: auto;
    }

    row {
      text-align: center;
    }
  </style>

  <body>
    <% include ../partials/nav %>
    <div class="container" style="margin:0 auto; width:80%;">
      <h3>Profile</h3>
      <div class="divider" style="margin-bottom:2%;"></div>
      <br>
      <p id="circle_user" class="pulse btn-floating btn-large waves-effect waves-light orange darken-1">
        <%= (user.username).trim().split(/ +/g).map(w => w[0].toUpperCase()).slice(0, 2).join('') %>
      </p>
      <br>
      <div class="row">
        <div class="input-field col s12 m6 offset-m3 l4 offset-l4">
          <input id="username" name="username" type="text" class="validate" value="<%= user.username %>" required disabled>
          <label for="username" class="active">Username</label>
          <!-- <button id="btn_username" type="button" class="center-align waves-effect waves-light btn orange darken-1 right">SAVE</button> -->
        </div>
        <div class="input-field col s12 m6 offset-m3 l4 offset-l4">
          <input id="email" name="email" type="text" class="validate" value="<%= user.email %>" required disabled>
          <label for="email" class="active">Email</label>
          <!-- <button id="btn_email" type="button" class="center-align waves-effect waves-light btn orange darken-1 right">SAVE</button> -->
        </div>
        <div class="input-field col s10 m4 offset-m3 l3 offset-l4">
          <input id="password" name="password" type="password" value="############################################" class="validate" required disabled>
          <label for="password" class="active">Password</label>
        </div>
        <div class="input-field col s2 m2 l1">
          <button id="btn_password" type="button" class="center-align waves-effect waves-light btn orange darken-1" style="display:block !important; width:100%;">
            <i class="material-icons">border_color</i>
          </button>
        </div>
      </div>
    </div>

    <div id="modal_edit" class="modal">
      <div class="modal-content">
        <div class="row">
          <h4 class="col s12">Change Password</h4>
          <div class="input-field col s12">
            <input id="new_password" name="new_password" type="password" class="validate" required>
            <label for="new_password">New Password</label>
          </div>
          <div class="input-field col s12">
            <input id="confirm_new_password" name="confirm_new_password" type="password" class="validate" required>
            <label for="confirm_new_password">Confirm New Password</label>
          </div>
        </div>
      </div>
      <div class="modal-footer" style="margin-bottom:0.35em;">
        <button id="btn_cancel" class="waves-effect waves-red btn-flat">CANCEL</button>
        <button id="btn_update" class="waves-effect waves-light btn orange darken-1">Update</button>
      </div>
      <div class="progress" style="display:none; margin:0;">
        <div class="indeterminate orange"></div>
      </div>
    </div>  
    <!-- div untuk membuat col ttp 9 -->
  </div>
  </div>
  <% include ../partials/script %>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/buttons/1.5.1/js/dataTables.buttons.min.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/pdfmake.min.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/vfs_fonts.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/buttons/1.5.1/js/buttons.html5.min.js"></script>
    <script src="/javascripts/libs/moment.js"></script>
    <script src="/javascripts/components/modal-password-edit.js"></script>
    <script>
      $(document).ready(async () => {
        $(".dropdown-trigger").dropdown()
        $('.sidenav').sidenav()
      })

      $('#btn_password').click(() => {
        new ModalPasswordEdit($('#modal_edit')[0]).show()
      })
    </script>
  </body>

  <% include ../partials/footer %>